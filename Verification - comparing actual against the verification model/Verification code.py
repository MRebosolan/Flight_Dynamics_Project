# -*- coding: utf-8 -*-
"""
Created on Wed Feb 26 16:07:50 2020

@author: Nils
"""

import matplotlib.pyplot as plt
#VALIDATION DATA
    #reading and computing twists, max_stress and deflections
    #deflections are of the hinge line
    #twists are taken about the hinge line

interest_nodes = Validation_definitions.reading_inputs('B737(1).INP')

outputs_deflections_bent= Validation_definitions.reading_outputs_deflections_bent('B737(2).RPT', interest_nodes[0])[1]
outputs_deflections_unbent = Validation_definitions.reading_outputs_deflections_unbent('B737(2).RPT', interest_nodes[0])[1]
outputs_deflections_pure_bending= Validation_definitions.reading_outputs_deflections_pure_bending('B737(2).RPT', interest_nodes[0])[1]

average_y_z_deflections_due_torque=Validation_definitions.average_y_z_deflections_due_to_torque_validated_data(outputs_deflections_unbent, outputs_deflections_bent, outputs_deflections_pure_bending)

shear_center_l_e_z=-0.10856995078063854
hinge_line_to_l_e_z=0.1025
shear_center_hinge_line_z=shear_center_l_e_z+hinge_line_to_l_e_z

    #OUTPUTS
twists_validation_data= Validation_definitions.computing_outputs_twist(average_y_z_deflections_due_torque, 0,shear_center_hinge_line_z) #outputs a list of sublists [deflection y and z due to torque, twist]
deflections_validation_data=outputs_deflections_bent

max_stress=(423.467*10**(-3)+414.020*10**(-3))/2
max_stress_node=2391
max_stress_location=Validation_definitions.reading_max_stress('B737(1).INP', max_stress_node)
max_stress_member=max_stress_location
print(max_stress_location)

min_stress=(178.435*10**(-6)+155.774*10**(-6))/2
min_stress_node= 6519

#NUMERICAL DATA
span=2.771
twists_values=[0, -2.415597225255943e-05, -7.216851850196401e-05, -0.00017778822337117836, 6.238021094165093e-05, 0.00010404630434408799, 0.00015853055729116928, 0.0001468676202305608, 0.00013655275049863098, 0.0017414724272360122, 0.0006494088295803723, 0.00038369313480221854, 9.561785730579107e-05, -0.0003620675304608045, 0.00047852198963409807, 0.0006035202698414093, 0.0007488116110336261, 0.0007204873353150055, 0.0006972788784181634, 0.004085442640419302, 0.0019013154451080218, 0.0013940400278042737, 0.0008659020190608232, 5.6150948396846445e-05, 0.001497161554273822, 0.0017054920212860073, 0.0019415904507233597, 0.001896604836346727, 0.0018605027922849726, 0.007031910639549868, 0.0037557198465829477, 0.0030068847067536053, 0.002238683966763132, 0.0010768672132017742, 0.0031182989048608237, 0.003409961558677883, 0.0037368670763603708, 0.003675220123325726, 0.0036262244920990594, 0.010580876424627711, 0.006212622034005151, 0.005222227171650214, 0.0042139637004127185, 0.0027000812639539793, 0.005341934041395102, 0.005716928882017035, 0.006134641487944658, 0.006056333196252001, 0.005994443977860422, 0.014732339995652832, 0.009272022007374632, 0.0080400674224941, 0.0067917412200095804, 0.00492579310065346, 0.008168066963876655, 0.008626393991303462, 0.00913491368547622, 0.009039944055125551, 0.008965161249569059, 0.019486301352625225, 0.012933919766691386, 0.01146040545928526, 0.009972016525553719, 0.007754002723300218, 0.011596697672305487, 0.01213835688653717, 0.012737683668955065, 0.012626052699946384, 0.01253837630722498, 0.024842760495544902, 0.017198315311955422, 0.015483241282023703, 0.013754789617045137, 0.011184710131894255, 0.015627826166681597, 0.016252817567718153, 0.016942951438381183, 0.01681465913071449, 0.016714089150828174, 0.030801717424411856, 0.022065208643166738, 0.020108574890709423, 0.018140060494483835, 0.015217915326435572, 0.020261452447004988, 0.020969776034846416, 0.021750716993754582, 0.021605763347429877, 0.02149229978037865, 0.03736317213922609, 0.02753459976032533, 0.025336406285342422, 0.02312782915786981, 0.019853618306924163, 0.025497576513275652, 0.026289232287921956, 0.027160980335075257, 0.02699936535009254, 0.0268730081958764, 0.04452712463998759, 0.03360648866343119, 0.031166735465922687, 0.028718095607203054, 0.025091819073360028, 0.03133619836549359, 0.032211186326944766, 0.033173741462343205, 0.032995465138702475, 0.03285621439732142, 0.05229357492669637, 0.04028087535248433, 0.03759956243245023, 0.03491085984248357, 0.030932517625743165, 0.0377773180036588, 0.03873563815191485, 0.03978900037555842, 0.03959406271325968, 0.03944191838471371, 0.06066252299935242, 0.04755775982748474, 0.044634887184925046, 0.041706121863711365, 0.037375713964073576, 0.04482093542777128, 0.04586258776283221, 0.04700675707472092, 0.046795158073764165, 0.04663012015805329, 0.06963396885795575, 0.05543714208843244, 0.052272709723347154, 0.04910388167088645, 0.04442140808835128, 0.05246705063783106, 0.05359203515969686, 0.054827011559830705, 0.05459875122021594, 0.05442081971734015, 0.07920791250250638, 0.06391902213532741, 0.06051303004771653, 0.0571041392640088, 0.05206959999857625, 0.0607156636338381, 0.061923980342508775, 0.06324976383088775, 0.06300484215261497, 0.06281401706257426, 0.08938435393300424, 0.07300339996816965, 0.06935584815803318, 0.06570689464307844, 0.06032028969474851, 0.06956677441579244, 0.07085842331126799, 0.0722750138878921, 0.07201343087096132, 0.0718097121937557, 0.10016329314944944, 0.0826902755869592, 0.07880116405429713, 0.07491214780809535, 0.06917347717686805, 0.07902038298369404, 0.08039536406597447, 0.08190276173084372, 0.08162451737525492, 0.08140790511088439, 0.11154473015184188, 0.092979648991696, 0.08884897773650834, 0.08471989875905954, 0.07862916244493484, 0.08907648933754292, 0.09053480260662822, 0.0921330073597426, 0.09183810166549579, 0.09160859581396034, 0.1235286649401816, 0.10387152018238008, 0.09949928920466682, 0.095130147495971, 0.08868734549894892, 0.09973509347733907, 0.10127673893322924, 0.10296575077458875, 0.10265418374168392, 0.10241178430298357, 0.1361150975144686, 0.11536588915901144, 0.1107520984587726, 0.10614289401882976, 0.0993480263389103, 0.11099619540308252, 0.11262117304577757, 0.11440099197538223, 0.11407276360381939, 0.11381747057795413, 0.1493040278747029, 0.1274627559215901, 0.12260740549882565, 0.11775813832763579, 0.11061120496481895, 0.12285979511477324, 0.12456810494427316, 0.12643873096212294, 0.1260938412519021, 0.1258256546388719, 0.16309545602088443, 0.140162120470116, 0.13506521032482596, 0.12997588042238908, 0.12247688137667487, 0.13532589261241124, 0.13711753462871604, 0.13907896773481096, 0.1387174166859321, 0.138436336485737, 0.17748938195301328, 0.1534639828045892, 0.14812551293677356, 0.14279612030308966, 0.13494505557447806, 0.1483944878959965, 0.15026946209910616, 0.15232170229344622, 0.15194348990590933, 0.15164951611854932, 0.19248580567108936, 0.16736834292500963, 0.1617883133346684, 0.15621885796973747, 0.1480157275582285, 0.162065580965529, 0.16402388735544354, 0.16616693463802873, 0.16577206091183383, 0.16546519353730893, 0.20808472717511273, 0.18187520083137737, 0.17605361151851054, 0.1702440934223326, 0.16168889732792624, 0.17633917182100883, 0.17838081039772824, 0.18061466476855859, 0.1802031297037057, 0.17988336874201588, 0.22428614646508344, 0.19698455652369243, 0.1909214074883, 0.184871826660875, 0.17596456488357126, 0.19121526046243592, 0.19334023122596022, 0.1956648926850357, 0.1952366962815248, 0.19490404173267006, 0.24109006354100138, 0.21269641000195474, 0.20639170124403675, 0.20010205768536474, 0.19084273022516363, 0.20669384688981035, 0.20890214984013952, 0.21131761838746013, 0.2108727606452912, 0.21052721250927156, 0.2584964784028666, 0.22901076126616432, 0.22246449278572072, 0.2159347864958017, 0.2063233933527032, 0.222774931103132, 0.22506656624026605, 0.2275728418758318, 0.22711132279500487]
deflection_values=[[0.0, 0.012620603720369715, -0.0009372026081338633], [0.01, 0.012505992168713197, -0.000870903550216967], [0.02, 0.012392629189417184, -0.000804959743195214], [0.03, 0.01228118426585665, -0.0007396024101563273], [0.04, 0.01217270289734015, -0.0006752195294110507], [0.05, 0.012065268736237809, -0.0006119292693303438], [0.06, 0.011958994582539947, -0.0005494166094937549], [0.07, 0.01185340648633058, -0.00048739274487151767], [0.08, 0.011748135624533366, -0.00042557511190395277], [0.09, 0.011643993648815156, -0.00036377932548166826], [0.1, 0.011537875772109707, -0.0003020092193078041], [0.11, 0.011432756062857779, -0.00024036299386517206], [0.12, 0.011328884925966119, -0.00017907201925700914], [0.13, 0.011226931844809489, -0.00011836752317123396], [0.14, 0.011127942318697967, -5.863744077443025e-05], [0.15, 0.01103, 0.0], [0.16, 0.01093321768870648, 5.785984083327351e-05], [0.17, 0.010837121434901538, 0.00011523088209646089], [0.18, 0.01074134241550875, 0.00017239569185768398], [0.19, 0.010646692282186971, 0.0002295387278717435], [0.2, 0.01055006624789235, 0.00028665596710011085], [0.21, 0.010454438381045601, 0.00034364936006847917], [0.22, 0.010360059086558881, 0.0004002875022630514], [0.23, 0.010267597847807014, 0.0004563391613957153], [0.24, 0.010178100164099004, 0.000511416445444045], [0.25, 0.010089649687805208, 0.0005654010669122002], [0.26, 0.010002359218915804, 0.0006186080887421581], [0.27, 0.009915754807515335, 0.0006713263066462949], [0.28, 0.009829467630527, 0.000723838293201176], [0.29, 0.009744309339597298, 0.0007763285788070104], [0.3, 0.009657175147716173, 0.0008287929510898804], [0.31, 0.009571039123275192, 0.0008811335115839852], [0.32, 0.009486151671193998, 0.0009331188213649667], [0.33, 0.009403182274847755, 0.0009845176435445205], [0.34, 0.009323176433541788, 0.0010349421292443757], [0.35000000000000003, 0.009244217799651962, 0.0010842739314062553], [0.36, 0.009166419173166455, 0.0011328281342328972], [0.37, 0.009089306604170495, 0.0011808935287779842], [0.38, 0.009012511269586646, 0.0012287526921265233], [0.39, 0.008936844821044666, 0.001276590227324131], [0.4, 0.008859202471579706, 0.0013244017326615055], [0.41000000000000003, 0.008782558289545083, 0.0013720894606813459], [0.42, 0.008707162679870002, 0.0014194219380487382], [0.43, 0.00863368512593024, 0.0014661679232751803], [0.44, 0.008563171127024854, 0.0015119396106265627], [0.45, 0.00849370433553879, 0.0015566185934821654], [0.46, 0.00842539755145696, 0.001600519977305492], [0.47000000000000003, 0.008357776824865548, 0.0016439325484915294], [0.48, 0.008290473332686218, 0.0016871388886337264], [0.49, 0.008224298726527607, 0.001730323673423106], [0.5, 0.008156148219481475, 0.001773482311814986], [0.51, 0.0080889958798538, 0.0018165172073605624], [0.52, 0.00802309211258542, 0.001859196852314364], [0.53, 0.007959106401052999, 0.0019012900005876956], [0.54, 0.007898084244546725, 0.0019424088895906035], [0.55, 0.007838109295464224, 0.0019824350531399302], [0.56, 0.007779294353785845, 0.0020216836179599417], [0.5700000000000001, 0.007721165469599023, 0.0020604433657869284], [0.58, 0.0076633538198242444, 0.0020989968827227834], [0.59, 0.007606671056044645, 0.0021375289171039345], [0.6, 0.007548012391420011, 0.00217603468855032], [0.61, 0.007490351894199875, 0.0022144167516216333], [0.62, 0.007433939969338776, 0.0022524435641618455], [0.63, 0.007379446100214559, 0.0022898838754820657], [0.64, 0.007327915786105931, 0.0023263499661365], [0.65, 0.007277432679426789, 0.00236172331037955], [0.66, 0.00722810958015164, 0.002396319056196246], [0.67, 0.007179472538369451, 0.0024304259806641813], [0.68, 0.007131152730999251, 0.0024643266743936956], [0.6900000000000001, 0.007083961809594312, 0.0024982059583666164], [0.7000000000000001, 0.007034794987393839, 0.0025320588628675094], [0.71, 0.006986626332581832, 0.0025657880934645584], [0.72, 0.006939706250128606, 0.0025991620735911795], [0.73, 0.006894704223413451, 0.0026319495479582913], [0.74, 0.006852665751701004, 0.002663762840264249], [0.75, 0.006811674487425014, 0.0026944833652010236], [0.76, 0.006771843230552874, 0.0027244262920144025], [0.77, 0.006732698031175358, 0.00275388039312329], [0.78, 0.0066938700662097705, 0.0027831282636464607], [0.79, 0.006656170987175136, 0.00281235479721115], [0.8, 0.006616496007401494, 0.00284155483476655], [0.81, 0.006577819194998204, 0.0028706312328893374], [0.8200000000000001, 0.006540390954953434, 0.002899352380602369], [0.8300000000000001, 0.006504880770648201, 0.00292748701801637], [0.84, 0.006472334141330467, 0.0029546475119738526], [0.85, 0.00644083471945743, 0.0029807152176043504], [0.86, 0.006410495304988078, 0.003006005325414415], [0.87, 0.006380841948015273, 0.003030806603164251], [0.88, 0.006351505825454331, 0.0030554016504810814], [0.89, 0.006323298588785645, 0.0030799754336375343], [0.9, 0.006293115451441498, 0.003104522604247445], [0.91, 0.006263930481447517, 0.0031289461698959685], [0.92, 0.006235994083811789, 0.0031530144851954116], [0.93, 0.006209975741917339, 0.0031764962856563024], [0.9400000000000001, 0.006186920954992853, 0.00319900398126531], [0.9500000000000001, 0.006164913375522561, 0.0032204188675895307], [0.96, 0.006144065803455775, 0.0032410561563962796], [0.97, 0.006123904288887725, 0.0032612046107870643], [0.98, 0.006104060008731458, 0.0032811468348975534], [0.99, 0.0060853446144243685, 0.00330106786764577], [1.0, 0.006064653319512384, 0.003320962171310191], [1.01, 0.0060449601919283, 0.0033407329044844525], [1.02, 0.006026515636702203, 0.0033601483873703054], [1.03, 0.006009989137219392, 0.003378977350878088], [1.04, 0.0059964261926866895, 0.003396832248138619], [1.05, 0.005983910455618941, 0.003413594315156564], [1.06, 0.005972554725954499, 0.0034295787849599954], [1.07, 0.005961885053791244, 0.003445074415991731], [1.08, 0.0059515326160396835, 0.0034603638168958775], [1.09, 0.005942309064089832, 0.003475632099235855], [1.1, 0.00593110961161268, 0.0034908735359547886], [1.11, 0.005920908326439083, 0.0035059914366547887], [1.12, 0.005911955613623203, 0.003520754087127054], [1.1300000000000001, 0.005904920956552893, 0.003534930213681727], [1.1400000000000001, 0.005900849854410504, 0.003548132312593779], [1.1500000000000001, 0.005897825959745097, 0.0035602415603054483], [1.16, 0.005895962072482779, 0.0035715732111055633], [1.17, 0.005894784242724357, 0.0035824160187782486], [1.18, 0.005893923647377535, 0.003593052596476053], [1.19, 0.005894191937780571, 0.003603668128407788], [1.2, 0.005892484327740915, 0.0036142566981812374], [1.21, 0.005891774884978395, 0.0036247217664069752], [1.22, 0.005892314014573316, 0.00363483158446565], [1.23, 0.0058947711999163665, 0.003644354874067216], [1.24, 0.005900191940162829, 0.00365290417463079], [1.25, 0.0059066598878995576, 0.0036603606030361823], [1.26, 0.005914287843039138, 0.0036670394348329817], [1.27, 0.005922601855685593, 0.003673229419146617], [1.28, 0.00593123310274354, 0.0036792131736380802], [1.29, 0.00594099323549511, 0.0036851759551615694], [1.3, 0.005948777467895615, 0.0036911116579895348], [1.31, 0.005957559867544765, 0.0036969238937410113], [1.32, 0.005967590839551073, 0.0037023808793861003], [1.33, 0.005979539867308346, 0.003707251332034558], [1.34, 0.0059944524499421885, 0.00371114783424965], [1.35, 0.0060104122400808525, 0.003713951443348765], [1.36, 0.006027532037622111, 0.0037159774561422478], [1.37, 0.006045337892673482, 0.0037175146170968345], [1.3800000000000001, 0.006063460982136231, 0.0037188455483819546], [1.3900000000000001, 0.0060827129572319765, 0.0037201555794971926], [1.4000000000000001, 0.006099989032075311, 0.003721438415379679], [1.41, 0.006118263274136719, 0.0037225978186568942], [1.42, 0.006137786088554999, 0.0037234019718883965], [1.43, 0.006159226958727353, 0.0037236195875837456], [1.44, 0.006183631383747114, 0.0037228632914503594], [1.45, 0.0062090830162875085, 0.003721014081243198], [1.46, 0.006235694656230223, 0.0037183872750333642], [1.47, 0.006262992353686551, 0.003715271612628899], [1.48, 0.006290607285554136, 0.0037119497207076793], [1.49, 0.006319351102989699, 0.0037086070014146644], [1.5, 0.006346119020278535, 0.003705236970351673], [1.51, 0.006373885104752791, 0.0037017435411546284], [1.52, 0.006402899761583631, 0.0036978948619725413], [1.53, 0.006433832474171924, 0.0036934596407147847], [1.54, 0.006467728741576136, 0.0036880505462329165], [1.55, 0.006502672216518053, 0.003681548516719477], [1.56, 0.006538775698862007, 0.003674268891506325], [1.57, 0.006575565238723331, 0.0036665004057428114], [1.58, 0.0066126720129957815, 0.003658525690615249], [1.59, 0.006650907672766812, 0.003650530220913978], [1.6, 0.006687167432503813, 0.0036425073229055076], [1.61, 0.0067244253593915036, 0.0036343610612342026], [1.62, 0.006762931858635492, 0.0036258595496385312], [1.6300000000000001, 0.006803356413640585, 0.003616771491427669], [1.6400000000000001, 0.00684674452342778, 0.003606709598597317], [1.6500000000000001, 0.0068911798407710195, 0.0035955547497776], [1.6600000000000001, 0.006936775165515989, 0.0035836223055611335], [1.67, 0.00698305654778235, 0.0035712009964385697], [1.68, 0.007029655164459695, 0.003558573458104667], [1.69, 0.007077382666561842, 0.0035459252379951315], [1.7, 0.007123134268749673, 0.003533249473041191], [1.71, 0.007169884038051388, 0.003520450378895627], [1.72, 0.0072178823797091115, 0.00350729603488637], [1.73, 0.007267798777131865, 0.0034935551397224], [1.74, 0.007320678729300575, 0.0034788404485435647], [1.75, 0.007374605889044938, 0.0034630327804175704], [1.76, 0.007429693056190697, 0.0034464475171977855], [1.77, 0.007485466280862137, 0.0034293733847161707], [1.78, 0.007541556739944411, 0.0034120930231759253], [1.79, 0.007598776084373317, 0.003394792052658126], [1.8, 0.007654019529014641, 0.003377463420758714], [1.81, 0.007710261140730977, 0.00336001149413889], [1.82, 0.007767751324803019, 0.0033422043177160467], [1.83, 0.007827159564644288, 0.0033238105855989747], [1.84, 0.007889531359193054, 0.003304443096071654], [1.85, 0.007952950361338333, 0.0032839826086393806], [1.86, 0.00801752937088466, 0.003262744526416279], [1.87, 0.008082794437961218, 0.003241017570575616], [1.8800000000000001, 0.008148376739448451, 0.003219084385829028], [1.8900000000000001, 0.00821508792619976, 0.0031971306649029576], [1.9000000000000001, 0.008279823213297248, 0.0031751491660580783], [1.9100000000000001, 0.008345556667428788, 0.003153044406963997], [1.92, 0.008412538693915733, 0.0031305843981275687], [1.93, 0.008481438776176383, 0.0031075378290573935], [1.94, 0.008553302413103736, 0.003083517541181584], [1.95, 0.008626213257649727, 0.0030584042344430342], [1.96, 0.008700284109596402, 0.0030325133332166137], [1.97, 0.008775041019078124, 0.0030061335540169003], [1.98, 0.008850115162970346, 0.0029795475460639717], [1.99, 0.008926318192039701, 0.002952941074729625], [2.0, 0.009000545321596021, 0.0029263067089392815], [2.0100000000000002, 0.009075770618143362, 0.002899549117370945], [2.02, 0.009152244487045798, 0.0028724362761209333], [2.0300000000000002, 0.00923063641172669, 0.002844736870097655], [2.04, 0.009311991891031159, 0.0028160637838733566], [2.05, 0.009394394577977654, 0.0027862976578285304], [2.06, 0.009477957272324459, 0.0027557539375987926], [2.07, 0.009562206024211381, 0.0027247213350400272], [2.08, 0.009646772010508625, 0.002693482503880758], [2.09, 0.009732466881891675, 0.0026622232821381315], [2.1, 0.009816185853909495, 0.0026309360494023272], [2.11, 0.009900902992873216, 0.0025995256253597302], [2.12, 0.009986868704191737, 0.0025677599516961335], [2.13, 0.010074752471293724, 0.0025354077087197573], [2.14, 0.010165599792973852, 0.0025020818241469683], [2.15, 0.01025749432232065, 0.0024676628787958623], [2.16, 0.010350548859067362, 0.0024324663395628035], [2.17, 0.010444289453359524, 0.0023967809136449915], [2.18, 0.010538347282061824, 0.0023608892592793798], [2.19, 0.010633533995754214, 0.002324977287128465], [2.2, 0.010726744810236203, 0.0022890371874472017], [2.21, 0.0108209537916169, 0.002252973930930353], [2.22, 0.010916411345352086, 0.0022165554248531746], [2.23, 0.011013786954876028, 0.002179550344923697], [2.24, 0.011114126118930341, 0.002141571662002412], [2.25, 0.011215512490677244, 0.002102499897345028], [2.2600000000000002, 0.011318058869823637, 0.0020626505391086536], [2.27, 0.011421291306521081, 0.002022312289831793], [2.2800000000000002, 0.011524840977628464, 0.001981767812259839], [2.29, 0.011629519533625841, 0.0019412030897006305], [2.3000000000000003, 0.011732222190574659, 0.001900610123073917], [2.31, 0.011835923014372923, 0.001859894034082813], [2.32, 0.011940872410525353, 0.0018188226955920548], [2.33, 0.012047739862472115, 0.0017771647787094757], [2.34, 0.012157570868899145, 0.0017345332974397004], [2.35, 0.012268449083045951, 0.0016908087134760363], [2.36, 0.0123804873045918, 0.0016463065362363428], [2.37, 0.01249321158369457, 0.0016013154636004322], [2.38, 0.012606253097207068, 0.0015561181628221373], [2.39, 0.012720423495505078, 0.0015109006898546282], [2.4, 0.01283261799492339, 0.0014656548562824662], [2.41, 0.012945810661139813, 0.0014202859348171034], [2.42, 0.013060251899710077, 0.0013745617639127653], [2.43, 0.013176611194080519, 0.0013282510100770884], [2.44, 0.013295934042878805, 0.0012809667304588155], [2.45, 0.013416304099425307, 0.0012325893271888716], [2.46, 0.013537834163370397, 0.001183434330945859], [2.47, 0.013660050284878532, 0.0011337904349508947], [2.48, 0.013782583640796176, 0.0010839403109662608], [2.49, 0.013906245881390463, 0.001034070087590446], [2.5, 0.014027932223280937, 0.0009841713870728389], [2.5100000000000002, 0.014150616731916107, 0.0009341496331332226], [2.52, 0.014274549812904795, 0.0008837726298152995], [2.5300000000000002, 0.01440040094969977, 0.0008328090390265281], [2.54, 0.014529215640867848, 0.0007808719610597577], [2.5500000000000003, 0.01465907753981384, 0.0007278417384835322], [2.56, 0.01479009944615795, 0.0006740339232372022], [2.57, 0.014921807410071484, 0.0006197372038831912], [2.58, 0.015053832608394309, 0.0005652342566922149], [2.59, 0.015186986691280513, 0.0005107112829080908], [2.6, 0.015318164875645824, 0.00045615971544503864], [2.61, 0.015450341226700323, 0.0004014851290311722], [2.62, 0.015583766150108027, 0.00034645529329966924], [2.63, 0.015719109129328404, 0.0002908388655578051], [2.64, 0.015857415662864804, 0.00023424898924253202], [2.65, 0.015996769404210076, 0.00017656594736002826], [2.66, 0.016137283152952986, 0.00011810531311037917], [2.67, 0.016278482959271964, 5.915577039731807e-05], [2.68, 0.016420000000000004, -2.4936649967166602e-18], [2.69, 0.016562645925173772, -5.9175724192446206e-05], [2.7, 0.016703315952016587, -0.00011838015860093476], [2.71, 0.01684498414549101, -0.0001777075774890513], [2.72, 0.016987900911318306, -0.0002373902456341341], [2.73, 0.017132735732964928, -0.0002976595103290962], [2.74, 0.017280534108868192, -0.0003589021849928685], [2.75, 0.017429379692612552, -0.00042123804618165214], [2.7600000000000002, 0.017579385283754037, -0.000484351499434629], [2.77, 0.01773007693247851, -0.0005479538655067351]]
x_values=[0.0, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1, 0.11, 0.12, 0.13, 0.14, 0.15, 0.16, 0.17, 0.18, 0.19, 0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.27, 0.28, 0.29, 0.3, 0.31, 0.32, 0.33, 0.34, 0.35000000000000003, 0.36, 0.37, 0.38, 0.39, 0.4, 0.41000000000000003, 0.42, 0.43, 0.44, 0.45, 0.46, 0.47000000000000003, 0.48, 0.49, 0.5, 0.51, 0.52, 0.53, 0.54, 0.55, 0.56, 0.5700000000000001, 0.58, 0.59, 0.6, 0.61, 0.62, 0.63, 0.64, 0.65, 0.66, 0.67, 0.68, 0.6900000000000001, 0.7000000000000001, 0.71, 0.72, 0.73, 0.74, 0.75, 0.76, 0.77, 0.78, 0.79, 0.8, 0.81, 0.8200000000000001, 0.8300000000000001, 0.84, 0.85, 0.86, 0.87, 0.88, 0.89, 0.9, 0.91, 0.92, 0.93, 0.9400000000000001, 0.9500000000000001, 0.96, 0.97, 0.98, 0.99, 1.0, 1.01, 1.02, 1.03, 1.04, 1.05, 1.06, 1.07, 1.08, 1.09, 1.1, 1.11, 1.12, 1.1300000000000001, 1.1400000000000001, 1.1500000000000001, 1.16, 1.17, 1.18, 1.19, 1.2, 1.21, 1.22, 1.23, 1.24, 1.25, 1.26, 1.27, 1.28, 1.29, 1.3, 1.31, 1.32, 1.33, 1.34, 1.35, 1.36, 1.37, 1.3800000000000001, 1.3900000000000001, 1.4000000000000001, 1.41, 1.42, 1.43, 1.44, 1.45, 1.46, 1.47, 1.48, 1.49, 1.5, 1.51, 1.52, 1.53, 1.54, 1.55, 1.56, 1.57, 1.58, 1.59, 1.6, 1.61, 1.62, 1.6300000000000001, 1.6400000000000001, 1.6500000000000001, 1.6600000000000001, 1.67, 1.68, 1.69, 1.7, 1.71, 1.72, 1.73, 1.74, 1.75, 1.76, 1.77, 1.78, 1.79, 1.8, 1.81, 1.82, 1.83, 1.84, 1.85, 1.86, 1.87, 1.8800000000000001, 1.8900000000000001, 1.9000000000000001, 1.9100000000000001, 1.92, 1.93, 1.94, 1.95, 1.96, 1.97, 1.98, 1.99, 2.0, 2.0100000000000002, 2.02, 2.0300000000000002, 2.04, 2.05, 2.06, 2.07, 2.08, 2.09, 2.1, 2.11, 2.12, 2.13, 2.14, 2.15, 2.16, 2.17, 2.18, 2.19, 2.2, 2.21, 2.22, 2.23, 2.24, 2.25, 2.2600000000000002, 2.27, 2.2800000000000002, 2.29, 2.3000000000000003, 2.31, 2.32, 2.33, 2.34, 2.35, 2.36, 2.37, 2.38, 2.39, 2.4, 2.41, 2.42, 2.43, 2.44, 2.45, 2.46, 2.47, 2.48, 2.49, 2.5, 2.5100000000000002, 2.52, 2.5300000000000002, 2.54, 2.5500000000000003, 2.56, 2.57, 2.58, 2.59, 2.6, 2.61, 2.62, 2.63, 2.64, 2.65, 2.66, 2.67, 2.68, 2.69, 2.7, 2.71, 2.72, 2.73, 2.74, 2.75, 2.7600000000000002, 2.77]


max_stress_actual=22824035.071062278

max_stress_member_actual=1




#Adjusting so that the numerical set of twist and deflections have the same number of points along the span
new_x_set=Validation_definitions.creating_format_x(108, span)
len_twists=len(twists_values)

    #converting the deflections to 108 nodes
new_deflections_num_model= Validation_definitions.converting_deflection_list(new_x_set, deflection_values)
    #converting the twist to 108 nodes
new_twists_num_model= Validation_definitions.converting_twist_list(new_x_set, twists_values, x_values)


#print(new_deflections_num_model)

#ENGAGING IN THE COMPARISON

    #taking the twist values of twists_list
Twists=[]
nodes=[]
for i in range(len(twists_validation_data)):
    Twists.append(twists_validation_data[i][2])
    nodes.append(twists_validation_data[i][0])
    
    #taking the twist values of twists_list actual
    
Twists_actual=[]
for i in range(len(new_twists_num_model)):
    Twists_actual.append(new_twists_num_model[i][1])
    
    #taking the deflection in y and z
new_deflections_num_model_y=[]
new_deflections_num_model_z=[]
for i in range(len(new_deflections_num_model)):
    new_deflections_num_model_y.append(new_deflections_num_model[i][1])
    new_deflections_num_model_z.append(new_deflections_num_model[i][2])
    
    #validation deflections
deflections_validation_data_y=[]
deflections_validation_data_z=[]
for i in range(len(outputs_deflections_bent)):
    deflections_validation_data_y.append(outputs_deflections_bent[i][3])
    deflections_validation_data_z.append(outputs_deflections_bent[i][4])
    


    #plotting
plt.plot(nodes,Twists, color='blue')
plt.plot(nodes,Twists_actual, color= 'red' )
plt.show()

plt.plot(nodes, new_deflections_num_model_y, color='red')
plt.plot(nodes,deflections_validation_data_y, color= 'blue' )
plt.show()

plt.plot(nodes, new_deflections_num_model_z, color='red')
plt.plot(nodes,deflections_validation_data_z, color= 'blue' )
plt.show()

#-----------------------------------------------------------------------------
lst_error_deflection= Validation_definitions.deflection_validation(new_deflections_num_model, deflections_validation_data)

lst_error_y=[]
for i in range(len(lst_error_deflection)):
    lst_error_y.append(lst_error_deflection[i][1])

lst_error_z=[]
for i in range(len(lst_error_deflection)):
    lst_error_z.append(lst_error_deflection[i][2])
    

plt.ylim(-0.01, 0.01)
plt.plot(nodes, lst_error_y)
plt.show()

plt.ylim(-0.01, 0.01)
plt.plot(nodes, lst_error_z)
plt.show()



lst_variables_twists= Validation_definitions.twist_validation(Twists_actual, Twists)
lst_error_twists=lst_variables_twists[0]


plt.ylim(-0.01, 0.4)
plt.plot(nodes, lst_error_twists)
plt.show()

maximum_minimum_difference_actual=lst_variables_twists[1]
maximum_minimum_difference_validation=lst_variables_twists[2]

lst_max_stress_variables=Validation_definitions.max_stress_validation(max_stress_actual, max_stress, max_stress_member_actual, max_stress_member)
error_max_stress=lst_max_stress_variables[0]

if lst_max_stress_variables[1]==1:
    print('The stress is on the same member')
else: 
    print('The maximum stress is not on the same member')
    

    

    





