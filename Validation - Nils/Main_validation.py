# -*- coding: utf-8 -*-
"""
Created on Mon Feb 24 10:43:19 2020

@author: Nils
"""
import sys, os
sys.path.clear()
sys.path.append(os.path.realpath('..\\svvproject'))
sys.path.append(os.path.realpath('..\\Validation - Nils'))
import Validation_definitions
import matplotlib.pyplot as plt
import numpy as np

#max stress diff= 419.1649069703622%


#VALIDATION DATA
    #reading and computing twists, max_stress and deflections
    #deflections are of the hinge line
    #twists are taken about the hinge line

interest_nodes = Validation_definitions.reading_inputs('B737(1).INP')

outputs_deflections_bent= Validation_definitions.reading_outputs_deflections_bent('B737(2).RPT', interest_nodes[0])[1]
outputs_deflections_unbent = Validation_definitions.reading_outputs_deflections_unbent('B737(2).RPT', interest_nodes[0])[1]
outputs_deflections_pure_bending= Validation_definitions.reading_outputs_deflections_pure_bending('B737(2).RPT', interest_nodes[0])[1]

average_y_z_deflections_due_torque=Validation_definitions.average_y_z_deflections_due_to_torque_validated_data(outputs_deflections_unbent, outputs_deflections_bent, outputs_deflections_pure_bending)

shear_center_l_e_z=-0.10856995078063854
hinge_line_to_l_e_z=0.1025
shear_center_hinge_line_z=shear_center_l_e_z+hinge_line_to_l_e_z

    #OUTPUTS
twists_validation_data= Validation_definitions.computing_outputs_twist(average_y_z_deflections_due_torque, 0,shear_center_hinge_line_z) #outputs a list of sublists [deflection y and z due to torque, twist]
deflections_validation_data=outputs_deflections_bent

max_stress=(423.467*10**(-3)+414.020*10**(-3))/2/(10**-9)
print(max_stress)
max_stress_node=2391
max_stress_location=Validation_definitions.reading_max_stress('B737(1).INP', max_stress_node)
max_stress_member=max_stress_location
print(max_stress_location)

min_stress=(178.435*10**(-6)+155.774*10**(-6))/2
min_stress_node= 6519

#NUMERICAL DATA
span=2.771
twists_values=[0, 1.9601389760953836e-05, 3.920277952190767e-05, 5.8804169282861507e-05, 7.840555904381534e-05, 9.800694880476918e-05, 0.000117608338565723, 0.00013720972832667686, 0.00015681111808763068, 0.0001764125078485845, 0.00019601389760953836, 0.00021561528737049218, 0.000235216677131446, 0.00025481806689239985, 0.0002760288262874663, 0.00029723958568253267, 0.0004175245644867674, 0.0005378095432910021, 0.0006580945220952365, 0.0007783795008994713, 0.000898664479703706, 0.0010189494585079403, 0.001139234437312175, 0.0012595194161164097, 0.001379804394920644, 0.0015000893737248788, 0.0016203743525291135, 0.0017406593313333482, 0.001860944310137583, 0.001981229288941817, 0.0021015142677460515, 0.0022217992465502863, 0.002342084225354521, 0.0024623692041587557, 0.0025826541829629904, 0.0027045485314013376, 0.0028264428798396844, 0.0029483372282780316, 0.0030700467128108415, 0.0031917561973436514, 0.0033134656818764614, 0.0034351751664092713, 0.0035568846509420804, 0.0036785941354748903, 0.0038003036200077002, 0.00392201310454051, 0.00404372258907332, 0.00416543207360613, 0.004287141558138939, 0.004408851042671749, 0.004530560527204559, 0.004652270011737369, 0.004773979496270179, 0.004895688980802989, 0.005017398465335799, 0.005139107949868609, 0.005260817434401419, 0.0053825269189342285, 0.005504542122661965, 0.005628166696023815, 0.005751791269385666, 0.005875415842747516, 0.005999040416109366, 0.006122664989471217, 0.006246289562833067, 0.006369914136194917, 0.006493538709556768, 0.006617163282918618, 0.006740787856280468, 0.0068644124296423185, 0.006988037003004169, 0.007111661576366018, 0.007235286149727869, 0.007358910723089719, 0.007482535296451569, 0.0076061598698134196, 0.00772978444317527, 0.007853409016537121, 0.007977033589898971, 0.008100658163260822, 0.008224282736622672, 0.008347907309984522, 0.008471531883346373, 0.008596765826342336, 0.008721999769338297, 0.00884723371233426, 0.008972467655330224, 0.009097701598326187, 0.00922293554132215, 0.009348169484318113, 0.009473403427314077, 0.00959863737031004, 0.009723871313306003, 0.009849105256301966, 0.00997433919929793, 0.010099573142293893, 0.010224807085289854, 0.010350041028285817, 0.01047527497128178, 0.010600508914277744, 0.010725742857273707, 0.01085097680026967, 0.010976210743265633, 0.011101444686261596, 0.01122667862925756, 0.011351912572253523, 0.011477146515249486, 0.011603989827879562, 0.011731138859704567, 0.011858287891529571, 0.011985436923354575, 0.01211258595517958, 0.012239734987004584, 0.012366884018829589, 0.012494033050654593, 0.012531738323130993, 0.012569443595607393, 0.012607148868083793, 0.012644854140560192, 0.012682559413036592, 0.012720264685512992, 0.012757969957989392, 0.012795675230465792, 0.012833380502942192, 0.012871085775418591, 0.012908791047894991, 0.012946496320371391, 0.01298420159284779, 0.01302190686532419, 0.012815436337669859, 0.012608965810015527, 0.012402495282361195, 0.012196024754706863, 0.01198955422705253, 0.011783083699398199, 0.011576613171743867, 0.011370142644089535, 0.011163672116435203, 0.010957201588780871, 0.010750731061126539, 0.010544260533472207, 0.01033779000581788, 0.010131319478163548, 0.010011766182638925, 0.009892212887114301, 0.009772659591589678, 0.009653106296065054, 0.00953355300054043, 0.009413999705015807, 0.009294446409491184, 0.00917489311396656, 0.009055339818441937, 0.008935786522917313, 0.00881623322739269, 0.008696679931868066, 0.008577126636343442, 0.008457573340818819, 0.008338020045294195, 0.008218466749769572, 0.008098913454244948, 0.007979360158720325, 0.007859806863195701, 0.007740253567671077, 0.007622309641780565, 0.007504365715890054, 0.007386421789999542, 0.007268477864109031, 0.007150533938218522, 0.00703259001232801, 0.006914646086437499, 0.006796702160546987, 0.006678758234656476, 0.006560814308765964, 0.0064428703828754525, 0.006324926456984941, 0.006207288250289358, 0.006089650043593775, 0.0059720118368981915, 0.005854373630202608, 0.005736735423507025, 0.005619097216811442, 0.005501459010115859, 0.005383820803420276, 0.0052661825967246926, 0.005148544390029109, 0.005030906183333526, 0.004913267976637943, 0.004797239139576472, 0.004681210302515001, 0.00456518146545353, 0.0044491526283920585, 0.004333123791330587, 0.004217094954269119, 0.004101066117207648, 0.0039850372801461765, 0.003869008443084706, 0.003752979606023235, 0.0036369507689617644, 0.0035209219319002937, 0.003404893094838823, 0.0032888642577773523, 0.003172835420715879, 0.003056806583654411, 0.0029407777465929375, 0.0028247489095314694, 0.0027087200724700013, 0.002592691235408528, 0.00247666239834706, 0.0023606335612855866, 0.0022446047242241185, 0.002128575887162645, 0.0020141564197352895, 0.0018997369523079287, 0.001785317484880573, 0.0016708980174532121, 0.0015564785500258565, 0.0014420590825984956, 0.00132763961517114, 0.0012132201477437791, 0.0010988006803164235, 0.0009843812128890626, 0.0008699617454617069, 0.0007555422780343462, 0.0006411228106069904, 0.0005267033431796297, 0.00041258959494720195, 0.00029847584671476913, 0.0001843620984823414, 7.024835024990861e-05, -4.386539798251912e-05, -0.00015797914621495192, -0.00027209289444737964, -0.00038620664267980737, -0.0005003203909122401, -0.0006144341391446679, -0.0007269385177429879, -0.000839442896341303, -0.000951947274939623, -0.001064451653537938, -0.0011769560321362581, -0.0012894604107345732, -0.0014019647893328932, -0.0015144691679312083, -0.0016269735465295283, -0.0017394779251278434, -0.0018519823037261634, -0.0019644866823244787, -0.0020769910609227987, -0.002189495439521114, -0.002301999818119434, -0.0024145041967177493, -0.0025270085753160694, -0.0026395129539143847, -0.0027520173325127047, -0.00286452171111102, -0.00297702608970934, -0.0030895304683076553, -0.0032020348469059706, -0.0033145392255042906, -0.003425434234468493, -0.0035363292434327006, -0.003647224252396903, -0.0037581192613611106, -0.003869014270325313, -0.0039799092792895206, -0.004090804288253723, -0.0042016992972179305, -0.004312594306182133, -0.0044234893151463405, -0.004404257653196462, -0.004385025991246583, -0.004365794329296705, -0.004346562667346825, -0.004327331005396947, -0.004308099343447068, -0.0042888676814971894, -0.00426963601954731, -0.004250404357597432]
deflection_values=[[0.0, 0.024311215725621498, 0.002961905919818502], [0.01, 0.02332073643443556, 0.0027617803273727233], [0.02, 0.02233455467005595, 0.0025620334043176293], [0.03, 0.021352670432481513, 0.0023626651661610145], [0.04, 0.020375083721708598, 0.0021636756361645727], [0.05, 0.01940190134970703, 0.001965064845343891], [0.06, 0.0184331233164606, 0.0017668328324684551], [0.07, 0.017468749621941494, 0.0015689796440616418], [0.08, 0.016508780266105735, 0.0013715053344007194], [0.09, 0.015553215248887867, 0.0011744099655168383], [0.1, 0.014602054570194874, 0.0009776936071950219], [0.11, 0.013655298229899344, 0.0007813563369741578], [0.12, 0.012713053039810095, 0.0005854181696387897], [0.13, 0.011775318999707353, 0.0003898791982354677], [0.14, 0.010842247677472466, 0.00019473983722187785], [0.15, 0.009913698330679814, 4.0657581468206416e-20], [0.16, 0.009000334537077265, -0.00019430252607399398], [0.17, 0.008092265886579013, -0.00038815651226220636], [0.18, 0.007189599106811677, -0.0005815370656175876], [0.19, 0.006292334090023952, -0.0007744190014807356], [0.2, 0.00540057751388316, -0.0009667967730778848], [0.21, 0.004514436026161948, -0.0011586446126666836], [0.22, 0.003633909429250008, -0.0013499364611834304], [0.23, 0.0027591043004257573, -0.0015406459684274866], [0.24, 0.0018900203640404795, -0.0017307664227695738], [0.25, 0.0010267641114410607, -0.0019202708924199675], [0.26, 0.0001694419847840128, -0.0021091321552108447], [0.27, -0.0006819464393242598, -0.0022973226989290814], [0.28, -0.0015272948304258039, -0.00248483465118681], [0.29, -0.0023666037328953504, -0.0026716399208663016], [0.3, -0.003199766946884021, -0.0028577101280940417], [0.31, -0.004026678345369674, -0.0030430166047808473], [0.32, -0.004847338691378532, -0.003227530395224108], [0.33, -0.005661642019442783, -0.003411242186268365], [0.34, -0.006469482453162724, -0.0035941224490615075], [0.35000000000000003, -0.00727048287198371, -0.003776117221045067], [0.36, -0.0080649051625429, -0.003957216518334935], [0.37, -0.008852750604574907, -0.00413740960720364], [0.38, -0.009633960898481925, -0.004316669185123471], [0.39, -0.010408384842041637, -0.004494960909270619], [0.4, -0.011176024081305608, -0.004672253285632052], [0.41000000000000003, -0.011936773587744004, -0.004848534464653762], [0.42, -0.012690635289354702, -0.005023772383812294], [0.43, -0.013437504454023877, -0.005197934698785339], [0.44, -0.014177276508984048, -0.00537098878526035], [0.45, -0.01490995386043275, -0.005542921670371037], [0.46, -0.015635432277375003, -0.005713700175800948], [0.47000000000000003, -0.016353607711556768, -0.0058832908495115325], [0.48, -0.017064483117552053, -0.006051659968134091], [0.49, -0.017767954837066533, -0.006218793469016035], [0.5, -0.01846402623130225, -0.0063846570939610405], [0.51, -0.019152594065554817, -0.006549216321621047], [0.52, -0.01983355532988733, -0.006712436370579874], [0.53, -0.020506914059942993, -0.006874282202627538], [0.54, -0.02117256772195822, -0.00703473845572434], [0.55, -0.02183052084581986, -0.00719376958869488], [0.56, -0.02248067141033685, -0.0073513398146103585], [0.5700000000000001, -0.023122917664569503, -0.007507413104899472], [0.58, -0.0237571479367593, -0.00766194996454104], [0.59, -0.024382750699644507, -0.007814806401736006], [0.6, -0.02500024212937882, -0.007966062692037302], [0.61, -0.025609628706606456, -0.00811568135620512], [0.62, -0.026210810432935452, -0.008263644621697017], [0.63, -0.026803794465340085, -0.00840991456960465], [0.64, -0.027388481502738184, -0.008554453070357952], [0.65, -0.02796477260858426, -0.00869722179023801], [0.66, -0.028532676033536354, -0.008838202127690688], [0.67, -0.029092093602254523, -0.008977355361482267], [0.68, -0.029643034348170727, -0.009114642587656435], [0.6900000000000001, -0.030185400900395766, -0.009250024727333862], [0.7000000000000001, -0.030719096306602665, -0.009383482464346383], [0.71, -0.031244130855942583, -0.009514976394746976], [0.72, -0.031760408466049425, -0.009644466965154749], [0.73, -0.03226794031797074, -0.009771914481975959], [0.74, -0.03276663124318935, -0.009897279121001119], [0.75, -0.03325638654657255, -0.010020540866878102], [0.76, -0.03373721882930346, -0.010141659664502038], [0.77, -0.03420903437584817, -0.010260595359280762], [0.78, -0.03467173997681687, -0.010377307708316382], [0.79, -0.03512534975177165, -0.010491776321494173], [0.8, -0.03556977153603384, -0.010603960814519009], [0.81, -0.036005020515325496, -0.01071382075085758], [0.8200000000000001, -0.036431005612405795, -0.0108213156546261], [0.8300000000000001, -0.036846813963919575, -0.010926062735313232], [0.84, -0.037253282579517134, -0.011028362078969477], [0.85, -0.037650322644702, -0.011128172678766887], [0.86, -0.038037952768330996, -0.01122545355015277], [0.87, -0.03841608536888227, -0.011320183676226885], [0.88, -0.03878463349646131, -0.011412322165140891], [0.89, -0.03914361765459266, -0.011501828196476155], [0.9, -0.03949295218584421, -0.011588661038637692], [0.91, -0.03983255209313491, -0.011672799996252304], [0.92, -0.040162439860772045, -0.011754204569607863], [0.93, -0.04048253183926375, -0.011832834403088152], [0.9400000000000001, -0.04079285187773377, -0.011908649304639305], [0.9500000000000001, -0.04109331770809263, -0.011981609265762173], [0.96, -0.041383847764791065, -0.012051694411524694], [0.97, -0.04166446800419986, -0.012118865162628483], [0.98, -0.041935098287658706, -0.012183082186481528], [0.99, -0.042195766012019784, -0.01224430641931015], [1.0, -0.04244639249183649, -0.0123025190182935], [1.01, -0.04268689977702194, -0.012357681525752433], [1.02, -0.04291731747001823, -0.012409755822342015], [1.03, -0.04313756910651761, -0.012458704151277932], [1.04, -0.043347578971579724, -0.012504509072577445], [1.05, -0.0435473789151856, -0.012547133629343506], [1.06, -0.04373689473126739, -0.012586541303038377], [1.07, -0.043915275339425144, -0.012621947918123731], [1.08, -0.04408317727172024, -0.012653909150896092], [1.09, -0.044240699794455614, -0.012682529505943192], [1.1, -0.04438787986247278, -0.012707774233355996], [1.11, -0.044524648408965285, -0.012729609191772177], [1.12, -0.04465104396793824, -0.012748020808109217], [1.1300000000000001, -0.04476699904792032, -0.012762976249296558], [1.1400000000000001, -0.044872446940746116, -0.01277444338294401], [1.1500000000000001, -0.0450151154529123, -0.012832548791828696], [1.16, -0.04514680539088143, -0.012888489608813329], [1.17, -0.04526751954860188, -0.012942263939841853], [1.18, -0.04537715394725847, -0.012993869894060294], [1.19, -0.04547571145949839, -0.013043305584417667], [1.2, -0.04556319499771944, -0.013090569128275505], [1.21, -0.0456396075143327, -0.013135658648026058], [1.22, -0.04570495200202153, -0.013178572271719233], [1.23, -0.04575912468201837, -0.013219308133698267], [1.24, -0.04580212862831227, -0.013257884304736043], [1.25, -0.04583396695591708, -0.013294298933704759], [1.26, -0.04585464282111373, -0.013328550177729962], [1.27, -0.04586415942168761, -0.01336063620286164], [1.28, -0.045862413185182915, -0.013390555184754238], [1.29, -0.04598868126290499, -0.013578098906945928], [1.3, -0.04610845215341784, -0.013761626247623096], [1.31, -0.0462218265383939, -0.013941005640645885], [1.32, -0.04632889898738908, -0.014116083051856841], [1.33, -0.04642975774791997, -0.014286702086878513], [1.34, -0.04652448453811284, -0.01445272411110302], [1.35, -0.04661315434249566, -0.014613988593577182], [1.36, -0.04669594202350408, -0.014770353181384253], [1.37, -0.04677290850140452, -0.014921654068724215], [1.3800000000000001, -0.04684410737514055, -0.015067726167247948], [1.3900000000000001, -0.04690958473684838, -0.01520842328925726], [1.4000000000000001, -0.04696937899269861, -0.015343578555355586], [1.41, -0.047023520690763654, -0.015473024603531954], [1.42, -0.04707203235662888, -0.01559661381120385], [1.43, -0.047039538524495314, -0.01567778169975026], [1.44, -0.04699913273971476, -0.015756051835929853], [1.45, -0.0469509088524548, -0.015831371921355746], [1.46, -0.046894852465381526, -0.015903709256342012], [1.47, -0.0468310545269922, -0.015973030842450733], [1.48, -0.04675960448940443, -0.016039283486444712], [1.49, -0.04668048346658492, -0.0161024336941359], [1.5, -0.046593777829003036, -0.01616242784769981], [1.51, -0.046499572362890665, -0.01621923210240256], [1.52, -0.04639784343009658, -0.01627279256681636], [1.53, -0.046288672564524, -0.016323075202467112], [1.54, -0.0461721396333377, -0.01637004593647895], [1.55, -0.0460482159989324, -0.016413650775696953], [1.56, -0.04591697811765558, -0.01645385571076791], [1.57, -0.045778500703474764, -0.016490606903738696], [1.58, -0.045632749892585256, -0.016523870595107445], [1.59, -0.0454797968449549, -0.016553593294391773], [1.6, -0.04531971091100001, -0.016579741690145044], [1.61, -0.04515245279939163, -0.016602282772972696], [1.62, -0.044978088181992434, -0.016621163960016352], [1.6300000000000001, -0.04479492322731099, -0.016636195388321236], [1.6400000000000001, -0.044604654410438066, -0.01664755073365605], [1.6500000000000001, -0.044407343688692286, -0.01665520015254847], [1.6600000000000001, -0.04420305118487346, -0.016659094417335714], [1.67, -0.0439917283632377, -0.016659204832996828], [1.68, -0.0437734316429052, -0.016655503366818813], [1.69, -0.04354821557689839, -0.01664794277934979], [1.7, -0.043316026032812954, -0.01663649654508926], [1.71, -0.04307691381112523, -0.016621119056445116], [1.72, -0.04283092782933476, -0.016601785546861106], [1.73, -0.042578008307946516, -0.01657845229714703], [1.74, -0.042318200394296554, -0.01655109656090958], [1.75, -0.04205119150667776, -0.016519750593151077], [1.76, -0.041777272424110834, -0.016484335197776055], [1.77, -0.041496483162553874, -0.016444831340106044], [1.78, -0.04120886188642406, -0.016401201361218327], [1.79, -0.04091433810681809, -0.016353428907681405], [1.8, -0.04061294631796308, -0.016301479144169233], [1.81, -0.04030471920009597, -0.016245338684831127], [1.82, -0.039989580824773455, -0.016184995736913663], [1.83, -0.03966756029861335, -0.01612042024504562], [1.84, -0.03933857816168532, -0.016051603824593582], [1.85, -0.03900266003644101, -0.01597851997757414], [1.86, -0.03865982984339962, -0.015901164026982467], [1.87, -0.0383081433474316, -0.01582031352625525], [1.8800000000000001, -0.037949507029380394, -0.015735253414220537], [1.8900000000000001, -0.03758394317711411, -0.015645985214643828], [1.9000000000000001, -0.0372113657549587, -0.015552492604935683], [1.9100000000000001, -0.03683179406656362, -0.015454781347788691], [1.92, -0.03644524598468121, -0.015352839504814551], [1.93, -0.03605163118384236, -0.01524667736802331], [1.94, -0.03565096481191052, -0.015136287673114448], [1.95, -0.035243260728688636, -0.015021685530415076], [1.96, -0.03482842474755535, -0.014902888566920045], [1.97, -0.034406468316104666, -0.014779897067803312], [1.98, -0.03397740176395547, -0.014652733905766813], [1.99, -0.03354112755369912, -0.014521404751671432], [2.0, -0.03309765397094935, -0.014385938002268797], [2.0100000000000002, -0.03264698838165245, -0.014246344988980194], [2.02, -0.03218903049261443, -0.014102659903534844], [2.0300000000000002, -0.03172378605119977, -0.013954919933899586], [2.04, -0.03125126011234777, -0.013803145398846802], [2.05, -0.030771350308851336, -0.013647379669504894], [2.06, -0.03028406056084093, -0.013487649371314223], [2.07, -0.02978939435260594, -0.0133240043021862], [2.08, -0.029287248012685535, -0.01315647763079119], [2.09, -0.028777624433156873, -0.012985125810767776], [2.1, -0.02826052635623849, -0.012810008704265973], [2.11, -0.027734542473871276, -0.012633043075765755], [2.12, -0.02720106904555103, -0.01245249414728039], [2.13, -0.026660112583820228, -0.012268409812997504], [2.14, -0.02611157302144812, -0.012080861324724568], [2.15, -0.02555545744290677, -0.011889903471731286], [2.16, -0.024991773382809057, -0.011695614475702346], [2.17, -0.02442042212719664, -0.011498076094212079], [2.18, -0.023841412453559474, -0.011297353721048904], [2.19, -0.02325475393765858, -0.011093536271717233], [2.2, -0.022660350263020268, -0.010886696347525066], [2.21, -0.022058212968965984, -0.010676930114042988], [2.22, -0.021448354765228023, -0.010464317457850446], [2.23, -0.020830682849002108, -0.010248961857354709], [2.24, -0.020205212660277916, -0.01003097046109052], [2.25, -0.019571842500881537, -0.009810881410471546], [2.2600000000000002, -0.01893062566629944, -0.009588369784713814], [2.27, -0.018281583224775966, -0.009363532984484606], [2.2800000000000002, -0.017624631385417422, -0.009136491966852255], [2.29, -0.01695979526203964, -0.008907351372143206], [2.3000000000000003, -0.0162871022027114, -0.0086762393639188], [2.31, -0.01560647512078761, -0.008443287675491816], [2.32, -0.01491794626321813, -0.008208611651323236], [2.33, -0.014221550544107175, -0.007972350071642695], [2.34, -0.013517218879294385, -0.007734625253721268], [2.35, -0.01280500056565656, -0.007498127036314875], [2.36, -0.012085067164140595, -0.007260448899508734], [2.37, -0.01135736048906838, -0.007021737653208626], [2.38, -0.010621932377092608, -0.006782143227044929], [2.39, -0.009878838016074198, -0.0065417986781316426], [2.4, -0.009128029273927418, -0.006300859981652182], [2.41, -0.008369568463167276, -0.006059466097737595], [2.42, -0.007603521669086011, -0.0058177787504859885], [2.43, -0.0068298520772794025, -0.005575942483108366], [2.44, -0.006048633736239595, -0.005334124425062287], [2.45, -0.005259944882918588, -0.0050924942646633845], [2.46, -0.00446376126696546, -0.004851204215590779], [2.47, -0.003660169909332489, -0.004610428765709225], [2.48, -0.0028492624231375996, -0.004370324701721336], [2.49, -0.0020310283324653233, -0.00413107084554791], [2.5, -0.0012055688247857854, -0.0038928280664748544], [2.5100000000000002, -0.0003729900648593576, -0.0036557790049822764], [2.52, 0.0004667034942048842, -0.0034201080018046517], [2.5300000000000002, 0.0013133953670762255, -0.0031859810206979824], [2.54, 0.002166963731659338, -0.0029535853534006784], [2.5500000000000003, 0.0030273881282308623, -0.0027230896003669416], [2.56, 0.00389453572660467, -0.0024946833632400744], [2.57, 0.004768268033486206, -0.0022685372131748052], [2.58, 0.005648547604374304, -0.0020448423709990005], [2.59, 0.006533480297105376, -0.0018259862430805365], [2.6, 0.0074245210555895225, -0.0016098504911479378], [2.61, 0.008321617751796517, -0.0013966206917091703], [2.62, 0.00922460564686406, -0.0011864624902434492], [2.63, 0.010133314132462157, -0.0009795612656085181], [2.64, 0.011047673477986353, -0.0007760820712627639], [2.65, 0.011967501147926052, -0.0005762092893673576], [2.66, 0.012892608561560659, -0.00038012649146861727], [2.67, 0.013822907859331102, -0.00018799629439302662], [2.68, 0.01475819824023239, 0.0], [2.69, 0.015507280629006526, 4.613895602380985e-05], [2.7, 0.01625711516941769, 9.211550215286468e-05], [2.71, 0.017007703824661047, 0.00013792859227898524], [2.72, 0.017759048576226455, 0.00018357719092568225], [2.73, 0.018511151423921623, 0.00022906027349597208], [2.74, 0.019264014385893757, 0.0002743768265221422], [2.75, 0.020017639498647932, 0.00031952584791726524], [2.7600000000000002, 0.020772028817064192, 0.0003645063472287047], [2.77, 0.02152718441441087, 0.0004093173458933619]]
x_values=[0.0, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1, 0.11, 0.12, 0.13, 0.14, 0.15, 0.16, 0.17, 0.18, 0.19, 0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.27, 0.28, 0.29, 0.3, 0.31, 0.32, 0.33, 0.34, 0.35000000000000003, 0.36, 0.37, 0.38, 0.39, 0.4, 0.41000000000000003, 0.42, 0.43, 0.44, 0.45, 0.46, 0.47000000000000003, 0.48, 0.49, 0.5, 0.51, 0.52, 0.53, 0.54, 0.55, 0.56, 0.5700000000000001, 0.58, 0.59, 0.6, 0.61, 0.62, 0.63, 0.64, 0.65, 0.66, 0.67, 0.68, 0.6900000000000001, 0.7000000000000001, 0.71, 0.72, 0.73, 0.74, 0.75, 0.76, 0.77, 0.78, 0.79, 0.8, 0.81, 0.8200000000000001, 0.8300000000000001, 0.84, 0.85, 0.86, 0.87, 0.88, 0.89, 0.9, 0.91, 0.92, 0.93, 0.9400000000000001, 0.9500000000000001, 0.96, 0.97, 0.98, 0.99, 1.0, 1.01, 1.02, 1.03, 1.04, 1.05, 1.06, 1.07, 1.08, 1.09, 1.1, 1.11, 1.12, 1.1300000000000001, 1.1400000000000001, 1.1500000000000001, 1.16, 1.17, 1.18, 1.19, 1.2, 1.21, 1.22, 1.23, 1.24, 1.25, 1.26, 1.27, 1.28, 1.29, 1.3, 1.31, 1.32, 1.33, 1.34, 1.35, 1.36, 1.37, 1.3800000000000001, 1.3900000000000001, 1.4000000000000001, 1.41, 1.42, 1.43, 1.44, 1.45, 1.46, 1.47, 1.48, 1.49, 1.5, 1.51, 1.52, 1.53, 1.54, 1.55, 1.56, 1.57, 1.58, 1.59, 1.6, 1.61, 1.62, 1.6300000000000001, 1.6400000000000001, 1.6500000000000001, 1.6600000000000001, 1.67, 1.68, 1.69, 1.7, 1.71, 1.72, 1.73, 1.74, 1.75, 1.76, 1.77, 1.78, 1.79, 1.8, 1.81, 1.82, 1.83, 1.84, 1.85, 1.86, 1.87, 1.8800000000000001, 1.8900000000000001, 1.9000000000000001, 1.9100000000000001, 1.92, 1.93, 1.94, 1.95, 1.96, 1.97, 1.98, 1.99, 2.0, 2.0100000000000002, 2.02, 2.0300000000000002, 2.04, 2.05, 2.06, 2.07, 2.08, 2.09, 2.1, 2.11, 2.12, 2.13, 2.14, 2.15, 2.16, 2.17, 2.18, 2.19, 2.2, 2.21, 2.22, 2.23, 2.24, 2.25, 2.2600000000000002, 2.27, 2.2800000000000002, 2.29, 2.3000000000000003, 2.31, 2.32, 2.33, 2.34, 2.35, 2.36, 2.37, 2.38, 2.39, 2.4, 2.41, 2.42, 2.43, 2.44, 2.45, 2.46, 2.47, 2.48, 2.49, 2.5, 2.5100000000000002, 2.52, 2.5300000000000002, 2.54, 2.5500000000000003, 2.56, 2.57, 2.58, 2.59, 2.6, 2.61, 2.62, 2.63, 2.64, 2.65, 2.66, 2.67, 2.68, 2.69, 2.7, 2.71, 2.72, 2.73, 2.74, 2.75, 2.7600000000000002, 2.77]


max_stress_actual=2173969302.2194386

max_stress_member_actual=2




#Adjusting so that the numerical set of twist and deflections have the same number of points along the span
new_x_set=Validation_definitions.creating_format_x(108, span)


    #converting the deflections to 108 nodes
new_deflections_num_model= Validation_definitions.converting_deflection_list(new_x_set, deflection_values)
    #converting the twist to 108 nodes
new_twists_num_model= Validation_definitions.converting_twist_list(new_x_set, twists_values, x_values)


#print(new_deflections_num_model)

#ENGAGING IN THE COMPARISON

    #taking the twist values of twists_list
Twists=[]
nodes=[]
for i in range(len(twists_validation_data)):
    Twists.append(twists_validation_data[i][2])
    nodes.append(twists_validation_data[i][0])
    
    #taking the twist values of twists_list actual
    
Twists_actual=[]
for i in range(len(new_twists_num_model)):
    Twists_actual.append(new_twists_num_model[i][1])
    
    #taking the deflection in y and z
new_deflections_num_model_y=[]
new_deflections_num_model_z=[]
for i in range(len(new_deflections_num_model)):
    new_deflections_num_model_y.append(new_deflections_num_model[i][1])
    new_deflections_num_model_z.append(new_deflections_num_model[i][2])
    
    #validation deflections
deflections_validation_data_y=[]
deflections_validation_data_z=[]
for i in range(len(outputs_deflections_bent)):
    deflections_validation_data_y.append(outputs_deflections_bent[i][3])
    deflections_validation_data_z.append(outputs_deflections_bent[i][4])
    


    #plotting
    
plt.title('twist versus span ')
plt.xlabel('span nodes')
plt.ylabel('twist [rad]')
plt.plot(nodes,Twists, color='blue')
plt.plot(nodes,Twists_actual, color= 'red' )
plt.show()

plt.title('y deflection versus span ')
plt.xlabel('span nodes')
plt.ylabel('deflection [m]')
plt.plot(nodes, new_deflections_num_model_y, color='red')
plt.plot(nodes,deflections_validation_data_y, color= 'blue' )
plt.show()

print(max(deflections_validation_data_y))

plt.title('z deflection versus span ')
plt.xlabel('span nodes')
plt.ylabel('deflection [m]')
plt.plot(nodes, new_deflections_num_model_z, color='red')
plt.plot(nodes,deflections_validation_data_z, color= 'blue' )
plt.show()

#-----------------------------------------------------------------------------
lst_error_deflection= Validation_definitions.deflection_validation(new_deflections_num_model, deflections_validation_data)

lst_error_y=[]
for i in range(len(lst_error_deflection)):
    lst_error_y.append(lst_error_deflection[i][1])

lst_error_z=[]
for i in range(len(lst_error_deflection)):
    lst_error_z.append(lst_error_deflection[i][2])
    
plt.title('y prime deflection versus span error')
plt.xlabel('span nodes')
plt.ylabel('deflections error[m]')
plt.ylim(0, 0.11)
plt.plot(nodes, lst_error_y)
plt.show()

plt.title('z prime deflection versus span error')
plt.xlabel('span nodes')
plt.ylabel('deflections error[m]')
plt.ylim(0, 0.1)
plt.plot(nodes, lst_error_z)
plt.show()



lst_variables_twists= Validation_definitions.twist_validation(Twists_actual, Twists)
lst_error_twists=lst_variables_twists[0]
print(lst_variables_twists[1], lst_variables_twists[2])

plt.title('twist versus span error')
plt.xlabel('span nodes')
plt.ylabel('twist error[rad]')
plt.ylim(0, 0.5)
plt.plot(nodes, lst_error_twists)
plt.show()

maximum_minimum_difference_actual=lst_variables_twists[1]
maximum_minimum_difference_validation=lst_variables_twists[2]

lst_max_stress_variables=Validation_definitions.max_stress_validation(max_stress_actual, max_stress, max_stress_member_actual, max_stress_member)
error_max_stress=lst_max_stress_variables[0]
print(lst_max_stress_variables[0])

if lst_max_stress_variables[1]==1:
    print('The stress is on the same member')
else: 
    print('The maximum stress is not on the same member')
    

    

    







